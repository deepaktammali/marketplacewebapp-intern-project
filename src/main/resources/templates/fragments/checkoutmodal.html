<div class="modal micromodal-slide checkout-modal" id="modal-1" aria-hidden="true" th:fragment="checkoutmodal">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <header class="modal__header">
                <h2 class="modal__title" id="modal-1-title">
                    Checkout
                </h2>
                <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
            </header>
            <main class="modal__content" id="modal-1-content">

                <th:block th:switch="${isLoggedIn}">
                    <th:block th:case="false">

                        <p class="has-text-weight-light mb-5">OOPS! You need to login to checkout!</p>

                        <a class="modal__footer">
                            <a href="/signin"><button type="submit" class="modal__btn modal__btn-primary login_button">Login</button></a>
                            <button class="modal__btn closemodal_button" data-micromodal-close
                                aria-label="Close this dialog window">Close</button>
                        </footer>
    
                    </th:block>
                    <th:block th:case="true">

                    <!-- address form -->

                <!-- Billing -->

                <p class="title is-size-4">Billing Address</p>

                <form method="POST" action="/getcompleteinvoice" class="addressform">
                    <div class="field">
                        <label class="label">Name</label>
                        <div class="control">
                            <input class="input" id="billing_name" name="billing_name" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Company Name</label>
                        <div class="control">
                            <input class="input" id="billing_company_name" name="billing_company_name" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Company Address</label>
                        <div class="control">
                            <textarea id="billing_address" name="billing_address" class="textarea" required></textarea>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Phone</label>
                        <div class="control">
                            <input class="input" id="billing_phone" name="billing_phone" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Email</label>
                        <div class="control">
                            <input class="input" id="billing_email" name="billing_email" type="email" required>
                        </div>
                    </div>

                    <label class="checkbox py-5" id="sameaddresscheckbox">
                        <input type="checkbox" name="isBillingAndShippingAddrSame" >
                        Shipping Address same as Billing Address
                    </label>

                    <p class="title is-size-4">Shipping Address</p>

                    <!-- Shipping -->
                    <div class="field">
                        <label class="label">Name</label>
                        <div class="control">
                            <input class="input" id="shipping_name" name="shipping_name" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Company Name</label>
                        <div class="control">
                            <input class="input" id="shipping_company_name" name="shipping_company_name" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Company Address</label>
                        <div class="control">
                            <textarea class="textarea" id="shipping_address" name="shipping_address" required></textarea>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Phone</label>
                        <div class="control">
                            <input class="input" id="shipping_phone" name="shipping_phone" type="text" required>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Email</label>
                        <div class="control">
                            <input class="input" id="shipping_email" name="shipping_email" type="email" required>
                        </div>
                    </div>


                    <footer class="modal__footer">
                        <button type="submit" class="modal__btn modal__btn-primary">Continue</button>
                        <button class="modal__btn" data-micromodal-close
                            aria-label="Close this dialog window">Close</button>
                    </footer>
                </form>

                <!-- address form -->

                        
                    </th:block>
                </th:block>


                
            </main>

        </div>
    </div>
</div>